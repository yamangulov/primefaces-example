<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html;charset=UTF-8" encoding="UTF-8">
<h:head>
    <h:outputStylesheet library="webjars" name="primeflex/3.2.0/primeflex.min.css" />
    <h:outputStylesheet library="css" name="styles.css"/>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Сател - реестр ресурсов</title>
</h:head>
    <h:body>
        <div class="card">
            <h:form>

                <p:dataTable var="employee" value="#{employeeFilterView.employees}" widgetVar="employeesTable"
                             emptyMessage="No employees found with given criteria"
                             filteredValue="#{employeeFilterView.filteredEmployees}"
                             filterBy="#{employeeFilterView.filterBy}"
                >

                    <f:facet name="header">
                        <span>Сотрудники</span>
                        <p:button style="margin-left: 70%" href="/employee/edit/0" value="Добавить"/>
                    </f:facet>

                    <p:column headerText="ФИО" sortBy="#{employee.name}"
                              filterMatchMode="contains"
                              filterBy="#{employee.name}">
                        <h:outputText value="#{employee.name}" />
                    </p:column>

                    <p:column headerText="Специализация" sortBy="#{employee.specialties}"
                              filterMatchMode="contains"
                              filterBy="#{employee.specialties}">
                        <h:outputText value="#{employee.specialties}" />
                    </p:column>

                    <p:column headerText="Отдел" sortBy="#{employee.employeeDepartment}"
                              filterMatchMode="contains"
                              filterBy="#{employee.employeeDepartment}">
                        <h:outputText value="#{employee.employeeDepartment}" />
                    </p:column>

                    <p:column headerText="Компетенции" sortBy="#{employee.skills}"
                              filterMatchMode="contains"
                              filterBy="#{employee.skills}">
                        <h:outputText value="#{employee.skills}" />
                    </p:column>

                    <p:column headerText="Уволен" sortBy="#{employee.archived}"
                              filterMatchMode="contains"
                              filterBy="#{employee.archived}">
                        <h:outputText value="#{employee.archived}" />
                    </p:column>

                    <p:column headerText="Карточка ресурса">
                        <h:outputLink value="#{employee.linkToLK}">
                            <h:outputText value="Открыть карточку" />
                        </h:outputLink>
                    </p:column>
                </p:dataTable>
            </h:form>
        </div>
    </h:body>
</f:view>

</html>